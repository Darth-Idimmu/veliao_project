<div class="task-list">
  <div class="filter-container">
    <label for="filter">Filtrar por estado:</label>
    <select id="filter" [(ngModel)]="filter" (change)="applyFilter()">
      <option value="all">Todas</option>
      <option value="completed">Completadas</option>
      <option value="pending">Pendientes</option>
    </select>
  </div>

  <div *ngFor="let task of filteredTasks" class="task-item" [ngClass]="{'completed': task.completed}">
    <div class="task-header">
      <span>{{ task.title }} - {{ task.deadline | date }}</span>
      <button *ngIf="!task.completed" class="complete-btn" (click)="markAsCompleted(task.id)">
        Marcar como completada
      </button>
    </div>

    <div class="task-persons">
      <div *ngFor="let person of task.persons" class="person-item">
        <h4>{{ person.name }} ({{ person.age }} aÃ±os)</h4>
        <ul class="skills-list">
          <li *ngFor="let skill of person.skills" class="skill-item">{{ skill }}</li>
        </ul>
      </div>
    </div>
  </div>
</div>
